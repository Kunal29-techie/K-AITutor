<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - KAiTutor</title>
    <link rel="stylesheet" href="../styless/styles.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="../templates/index2.html" class="logo">
                <img src="../kaitutor-logo.png" alt="KAiTutor Logo">
            </a>
        </div>
    </nav>

    <div class="auth-container">
        <a href="../index.html" class="auth-back-link">&larr; Back to Home</a>
        
        <div class="auth-card">
            
            <h1 class="auth-title">Welcome Back</h1>
            <p class="auth-subtitle">Sign in with your User ID</p>
            
            <form id="loginForm" class="auth-form">
                <div id="loginError" class="error-message" style="display: none;"></div>
                
                <div class="form-group">
                    <label for="user_id">User ID</label>
                    <input type="text" id="user_id" name="user_id" required placeholder="Arjun_11_3">
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required placeholder="Enter your password">
                </div>

                <button type="submit" class="btn-primary btn-full">Sign In</button>
            </form>

            <div class="auth-footer">
                <p>Don't have an account? Contact your Teacher</p>
            </div>
        </div>
    </div>

    
    <script src="../jscript/login.js"></script>
    <!-- // document.addEventListener("DOMContentLoaded", () => {

    //     const form = document.getElementById("loginForm");
    //     const errorDiv = document.getElementById("loginError");

    //     // CHANGED: Empty string means "use the current server IP/Domain"
    //     // This allows it to work on EC2 without hardcoding the IP.
    //     const API_BASE = "https://dvbwohodr9qxd.cloudfront.net"; 

    //     form.addEventListener("submit", async (e) => {
    //         e.preventDefault();

    //         // Get value from user_id input
    //         const user_id = document.getElementById("user_id").value.trim();
    //         const password = document.getElementById("password").value.trim();
    //         errorDiv.style.display = "none";

    //         try {
    //             const res = await fetch(`${API_BASE}/api/login`, {
    //                 method: "POST",
    //                 headers: {
    //                     "Content-Type": "application/json"
    //                 },
    //                 // Sending user_id instead of email
    //                 body: JSON.stringify({ user_id, password })
    //             });

    //             const data = await res.json();

    //             if (!res.ok) {
    //                 errorDiv.textContent = data.error || "Login failed";
    //                 errorDiv.style.display = "block";
    //                 return;
    //             }

    //             // Save auth info
    //             localStorage.setItem("token", data.token);
    //             localStorage.setItem("currentUser", JSON.stringify(data.user));

    //             console.log("Login successful");

    //             // Redirect
    //             window.location.href = "dashboard.html";

    //         } catch (err) {
    //             console.error("Login Error:", err);
    //             errorDiv.textContent = "Server is unreachable!";
    //             errorDiv.style.display = "block";
    //         }
    //     });

    // }); -->
    </script>

</body>
</html>