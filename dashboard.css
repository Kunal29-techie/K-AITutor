 /* ========= CHAT STYLES ========= */
        .chat-container { display: flex; flex-direction: column; height: calc(100vh - 160px); background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; overflow: hidden; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; background-color: #f8fafc; display: flex; flex-direction: column; gap: 15px; }
        .chat-message { max-width: 85%; padding: 16px 20px; border-radius: 12px; font-size: 15px; line-height: 1.6; position: relative; display: block; word-wrap: break-word; }
        .chat-message.user { align-self: flex-end; background-color: #3C3979; color: white; border-bottom-right-radius: 2px; }
        .chat-message.assistant { align-self: flex-start; background-color: #ffffff; color: #334155; border: 1px solid #e2e8f0; border-bottom-left-radius: 2px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .chat-text { margin-bottom: 8px; display: block; }
        .question-header { font-size: 1.1em; font-weight: 800; color: #3C3979; margin-bottom: 12px; padding-bottom: 6px; border-bottom: 2px solid #e2e8f0; display: block; }
        .chat-option-btn { display: block; width: 100%; text-align: left; background: white; border: 2px solid #e2e8f0; border-radius: 8px; padding: 10px 16px; margin: 6px 0; cursor: pointer; font-size: 15px; color: #475569; transition: all 0.2s; font-family: inherit; }
        .chat-option-btn:hover { border-color: #3C3979; background-color: #eef2ff; color: #3C3979; transform: translateX(4px); }
        .chat-option-btn strong { color: #3C3979; font-weight: 800; margin-right: 8px; }
        .feedback-success { color: #059669; font-weight: 700; font-size: 1.1em; margin-bottom: 8px; }
        .feedback-error { color: #dc2626; font-weight: 700; font-size: 1.1em; margin-bottom: 8px; }
        .chat-message a { color: #2563eb; text-decoration: underline; font-weight: 500; }
        .chat-message.user a { color: #bfdbfe; }

        /* ========= HISTORY CARD STYLES ========= */
        .history-card { border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px; margin-bottom: 20px; background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .history-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .header-left { display: flex; flex-direction: column; gap: 4px; }
        .header-right { display: flex; gap: 10px; }
        .subject-title { font-size: 18px; font-weight: 700; color: #1e293b; margin: 0; }
        .history-date { font-size: 13px; color: #64748b; font-weight: 500; }
        .btn-outline { padding: 8px 16px; border-radius: 6px; border: 1px solid #cbd5e1; background: white; color: #475569; cursor: pointer; font-weight: 600; font-size: 13px; transition: all 0.2s; display: flex; align-items: center; gap: 6px; }
        .btn-outline:hover { border-color: #3C3979; color: #3C3979; background: #eef2ff; }

        /* ========= REATTEMPT BUTTON ========= */
        .reattempt-box { cursor: pointer; border-left: 5px solid #6366f1 !important; transition: transform 0.2s; }
        .reattempt-box:hover { transform: translateY(-2px); background-color: #f5f3ff; }
        .reattempt-icon { font-size: 20px; color: #6366f1; margin-top: 5px; }

        /* Report UI */
        .report-container { background: #f8fafc; border-radius: 12px; padding: 24px; margin-top: 20px; border: 1px solid #e2e8f0; display: none; }
        .report-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-box { background: white; padding: 20px; border-radius: 12px; border: 1px solid #f1f5f9; text-align: center; border-left: 5px solid #3C3979; }
        .stat-label { font-size: 11px; color: #64748b; text-transform: uppercase; font-weight: 700; }
        .stat-value { font-size: 24px; font-weight: 800; color: #1e293b; margin-top: 8px; }
        .badge-text { font-weight: 700; color: #3C3979; font-size: 15px; margin-top: 8px; }
        
        /* Progress Bars */
        .level-progress-container { background: white; padding: 24px; border-radius: 12px; margin-bottom: 30px; border: 1px solid #f1f5f9; }
        .progress-row { display: flex; align-items: center; margin-bottom: 15px; }
        .progress-label { width: 140px; font-size: 14px; font-weight: 600; color: #475569; }
        .progress-track { flex-grow: 1; height: 10px; background: #e2e8f0; border-radius: 5px; overflow: hidden; margin: 0 15px; }
        .progress-fill { height: 100%; border-radius: 5px; transition: width 1s ease; }
        .fill-easy { background: #10b981; } .fill-inter { background: #f59e0b; } .fill-hard { background: #ef4444; }
        
        /* Questions */
        .questions-section { background: white; padding: 24px; border-radius: 12px; border: 1px solid #f1f5f9; }
        .questions-section h3 { margin: 0 0 20px 0; color: #334155; font-size: 18px; border-bottom: 2px solid #e2e8f0; padding-bottom: 12px; }
        .questions-section .question-header { color: #3C3979; font-weight: 800; font-size: 16px; margin-top: 30px; margin-bottom: 10px; display: block; border-bottom: none; }
        .report-label { font-weight: 700; color: #1e293b; margin-right: 5px; }
        .result-correct { color: #10b981; font-weight: 800; }
        .result-incorrect { color: #ef4444; font-weight: 800; }
        .option-letter { font-weight: 800; color: #334155; margin-right: 5px; }
        .raw-content { font-size: 15px; color: #475569; line-height: 1.7; }

        /* Dashboard Layout */
        .dashboard-container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .dashboard-tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; }
        .tab-btn { background: none; border: none; padding: 10px 20px; font-size: 16px; font-weight: 600; color: #64748b; cursor: pointer; border-radius: 6px; }
        .tab-btn.active { background: #eef2ff; color: #3C3979; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Nav */
        .nav { background: white; border-bottom: 1px solid #e2e8f0; padding: 15px 0; }
        .nav-container { max-width: 1000px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo img { height: 40px; }
        .nav-links { display: flex; align-items: center; gap: 20px; }
        .user-name { font-weight: 600; color: #334155; }
        .btn-secondary { background: none; border: 1px solid #cbd5e1; padding: 8px 16px; border-radius: 6px; cursor: pointer; color: #475569; font-weight: 600; }
        .btn-secondary:hover { border-color: #ef4444; color: #ef4444; }

        /* Chat Input */
        .chat-input-container { padding: 20px; border-top: 1px solid #e2e8f0; display: flex; gap: 10px; background: white; }
        #chatInput { flex: 1; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px; outline: none; font-size: 15px; }
        #chatInput:focus { border-color: #3C3979; }
        .btn-primary { background: #3C3979; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-primary:hover { background: #312e65; }
        
        /* Profile */
        .profile-card { background: white; padding: 30px; border-radius: 12px; border: 1px solid #e2e8f0; max-width: 800px; margin: 0 auto 30px auto; }
        .profile-header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; border-bottom: 2px solid #f1f5f9; padding-bottom: 15px; }
        .profile-title { font-size: 20px; font-weight: 700; color: #1e293b; }
        .profile-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { display: flex; flex-direction: column; gap: 6px; }
        .form-group label { font-size: 13px; font-weight: 600; color: #64748b; text-transform: uppercase; }
        .form-group input, .form-group select { padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 14px; background: #f8fafc; }
        .form-group input:disabled, .form-group select:disabled { background: #f1f5f9; color: #64748b; }
        .form-group input:not(:disabled) { background: white; border-color: #3C3979; color: #1e293b; }
        .btn-change-pass { background: white; border: 1px solid #dc2626; color: #dc2626; padding: 8px 16px; border-radius: 6px; font-weight: 600; cursor: pointer; margin-top: 25px; }
        .btn-change-pass:hover { background: #dc2626; color: white; }
        .stats-container { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; max-width: 1000px; margin: 0 auto; }
        .stat-card-big { background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; text-align: center; }
        .stat-big-number { font-size: 32px; font-weight: 800; color: #3C3979; margin-bottom: 5px; }
        .stat-big-label { font-size: 12px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }